{% extends 'base.html' %}

{% block title %}
  <title>修改{{ form.name.value }}的信息</title>
{% endblock %}

{% block container %}
  <blockquote id="top" class="layui-elem-quote layui-quote-nm">
    <a href="javascript:;">客户记录</a>
    &ensp;/&ensp;
    <a href="javascript:;">修改</a>
    &ensp;/&ensp;
    <a href="javascript:;">{{ form.name.value }}</a>
  </blockquote>

  <hr>

  <!--客户详情-->
  <div id="1">
    <form class="layui-form" action="." method="post">
      <div class="layui-row layui-col-space10">
        <!--客户基本信息-->
        <div class="layui-col-md6">
          <blockquote class="layui-elem-quote">客户基本信息</blockquote>
          <div class="layui-form-item">
            <label class="layui-form-label"><span style="color: red">* </span>客户名称</label>
            <div class="layui-input-block">
              <input type="text" name="name" required lay-verify="required"
                     autocomplete="off" class="layui-input"
                     value="{{ form.name.value|default_if_none:'' }}"
              >
              {{ form.name.errors }}
            </div>
          </div>
          <div class="layui-form-item">
            <label class="layui-form-label"><span style="color: red">* </span>客户级别</label>
            <div class="layui-input-block">
              {{ form.rank }}
              {{ form.rank.errors }}
            </div>
          </div>
          <div class="layui-form-item">
            <label class="layui-form-label">公司网址</label>
            <div class="layui-input-block">
              <input type="text" name="website"
                     autocomplete="off" class="layui-input"
                     value="{{ form.website.value|default_if_none:'' }}"
              >
              {{ form.website.errors }}
            </div>
          </div>
          <div class="layui-form-item">
            <label class="layui-form-label"><span style="color: red">* </span>客户规模</label>
            <div class="layui-input-block">
              {{ form.scale }}
              {{ form.scale.errors }}
            </div>
          </div>
          <div class="layui-form-item">
            <label class="layui-form-label">客户性质</label>
            <div class="layui-input-block">
              {{ form.nature }}
              {{ form.nature.errors }}
            </div>
          </div>
          <div class="layui-form-item">
            <label class="layui-form-label">客户行业</label>
            <div class="layui-input-block">
              {{ form.industry }}
              {{ form.industry.errors }}
            </div>
          </div>
          <div class="layui-form-item layui-form-text">
            <label class="layui-form-label">备注信息</label>
            <div class="layui-input-block">
              <textarea name="remarks" class="layui-textarea" rows="7"
                        placeholder="请输入内容">{{ form.remarks.value|default_if_none:'' }}</textarea>
              {{ form.remarks.errors }}
            </div>
          </div>
        </div>
        <!--客户基本信息结束-->

        <!--客户地址信息-->
        <div class="layui-col-md6">
          <!--收货地址-->
          <blockquote class="layui-elem-quote">收货地址信息</blockquote>
          <div class="layui-form-item">
            <label class="layui-form-label">收货人</label>
            <div class="layui-input-block">
              <input type="text" name="shop_username"
                     autocomplete="off" class="layui-input"
                     value="{{ form.shop_username.value|default_if_none:'' }}"
              >
              {{ form.shop_username.errors }}
            </div>
          </div>
          <div class="layui-form-item">
            <label class="layui-form-label">联系方式</label>
            <div class="layui-input-block">
              <input type="text" name="shop_phone"
                     autocomplete="off" class="layui-input"
                     value="{{ form.shop_phone.value|default_if_none:'' }}"
              >
              {{ form.shop_phone.errors }}
            </div>
          </div>
          <div class="layui-form-item">
            <label class="layui-form-label">所在地区</label>
            <div class="layui-input-block">
              <div data-toggle="distpicker" style="display: flex">
                <div class="form-group">
                  <select class="form-control" lay-filter="shop_province"
                          data-province="{{ form.shop_province.value|default_if_none:'' }}"
                          name="shop_province" id="shop_province"></select>
                </div>
                <div class="form-group">
                  <select class="form-control" lay-filter="shop_city"
                          data-city="{{ form.shop_city.value|default_if_none:'' }}"
                          name="shop_city" id="shop_city"></select>
                </div>
                <div class="form-group">
                  <select class="form-control" lay-filter="shop_area"
                          data-district="{{ form.shop_area.value|default_if_none:'' }}"
                          name="shop_area" id="shop_area"></select>
                </div>
              </div>
            </div>
          </div>
          <div class="layui-form-item">
            <label class="layui-form-label">详细地址</label>
            <div class="layui-input-block">
              <input type="text" name="shop_address"
                     autocomplete="off" class="layui-input"
                     value="{{ form.shop_address.value|default_if_none:'' }}"
              >
              {{ form.shop_address.errors }}
            </div>
          </div>
          <!--发票地址-->
          <blockquote class="layui-elem-quote">发票地址信息</blockquote>
          <div class="layui-form-item">
            <label class="layui-form-label">收货人</label>
            <div class="layui-input-block">
              <input type="text" name="invoice_username"
                     autocomplete="off" class="layui-input"
                     value="{{ form.invoice_username.value|default_if_none:'' }}"
              >
              {{ form.invoice_username.errors }}
            </div>
          </div>
          <div class="layui-form-item">
            <label class="layui-form-label">联系方式</label>
            <div class="layui-input-block">
              <input type="text" name="invoice_phone"
                     autocomplete="off" class="layui-input"
                     value="{{ form.invoice_phone.value|default_if_none:'' }}"
              >
              {{ form.invoice_phone.errors }}
            </div>
          </div>
          <div class="layui-form-item">
            <label class="layui-form-label">所在地区</label>
            <div class="layui-input-block">
              <div data-toggle="distpicker" style="display: flex">
                <div class="form-group">
                  <select class="form-control" lay-filter="invoice_province"
                          data-province="{{ form.invoice_province.value|default_if_none:'' }}"
                          name="invoice_province" id="invoice_province"></select>
                </div>
                <div class="form-group">
                  <select class="form-control" lay-filter="invoice_city"
                          data-city="{{ form.invoice_city.value|default_if_none:'' }}"
                          name="invoice_city" id="invoice_city"></select>
                </div>
                <div class="form-group">
                  <select class="form-control" lay-filter="invoice_area"
                          data-district="{{ form.invoice_area.value|default_if_none:'' }}"
                          name="invoice_area" id="invoice_area"></select>
                </div>
              </div>
              {{ form.address.errors }}
            </div>
          </div>
          <div class="layui-form-item">
            <label class="layui-form-label">详细地址</label>
            <div class="layui-input-block">
              <input type="text" name="invoice_address"
                     autocomplete="off" class="layui-input"
                     value="{{ form.invoice_address.value|default_if_none:'' }}"
              >
              {{ form.invoice_address.errors }}
            </div>
          </div>
        </div>
        <!--客户地址信息结束-->
      </div>
      <div class="layui-form-item">
        <div class="layui-input-block">
          <button class="layui-btn" lay-submit lay-filter="formDemo" type="submit">提交更新</button>
        </div>
      </div>
    </form>
  </div>
{% endblock %}

{% block footer %}
  <script src="/static/js/jquery-2.1.4.js"></script>
  <script src="/static/js/distpicker.js"></script>
  <script>
      //JavaScript代码区域
      layui.use(['element', 'form'], function () {
          var element = layui.element
              , form = layui.form;

          form.on('select(shop_province)', function (data) {
              $("#shop_province").val(data.value).change();
              form.render();
          })

          form.on('select(shop_city)', function (data) {
              $("#shop_city").val(data.value).change();
              form.render();
          })

          form.on('select(shop_area)', function (data) {
              $("#shop_area").val(data.value).change();
              form.render();
          })

          form.on('select(invoice_province)', function (data) {
              $("#invoice_province").val(data.value).change();
              form.render();
          })

          form.on('select(invoice_city)', function (data) {
              $("#invoice_city").val(data.value).change();
              form.render();
          })

          form.on('select(invoice_area)', function (data) {
              $("#invoice_area").val(data.value).change();
              form.render();
          })
      });
  </script>
{% endblock %}